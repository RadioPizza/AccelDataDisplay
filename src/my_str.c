/**
 * @file my_str.c
 * @brief Реализация функций для работы со строками.
 *
 * Этот файл содержит реализацию функции преобразования целого числа в строку.
 */

#include "my_str.h"

/**
 * @brief Преобразует целое число в строку.
 *
 * Функция преобразует указанное 32-битное целое число в строку и записывает его 
 * в переданный буфер. Поддерживается преобразование отрицательных чисел.
 * Буфер должен быть достаточного размера (не менее 12 байт для int32_t).
 *
 * @param[in] num Целое число, которое необходимо преобразовать.
 * @param[out] str Указатель на строковый буфер, в который будет записан результат.
 */
void int_to_str(int32_t num, char *str)
{
    char temp[12];  /* Временный буфер для хранения перевернутого числа */
    int8_t i = 0;
    int8_t j;
    uint8_t is_negative = 0;  /* Флаг для отрицательных чисел */

    /* Обработка случая, когда число равно 0 */
    if (num == 0)
    {
        str[i++] = '0';
        str[i] = '\0';
        return;
    }

    /* Проверка на отрицательное число */
    if (num < 0)
    {
        is_negative = 1;
        num = -num;
    }

    /* Преобразование числа в строку (обратный порядок) */
    while (num > 0 && i < (int8_t)(sizeof(temp) - 1))
    {
        temp[i++] = (char)((num % 10) + '0');
        num /= 10;
    }

    /* Добавление знака минуса для отрицательных чисел */
    if (is_negative)
    {
        temp[i++] = '-';
    }

    /* Разворот строки и копирование в выходной буфер */
    for (j = 0; j < i; j++)
    {
        str[j] = temp[i - j - 1];
    }
    str[j] = '\0';  /* Завершающий нулевой символ */
}